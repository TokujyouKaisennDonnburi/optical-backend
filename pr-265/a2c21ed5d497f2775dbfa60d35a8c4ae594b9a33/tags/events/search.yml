get:
  summary: Search events
  description: イベントをキーワードで検索します。タイトル、メモ、場所が検索対象です。
  tags:
    - events
  security:
    - bearerAuth: []
  parameters:
    - name: query
      in: query
      required: true
      description: 検索キーワード
      schema:
        type: string
        example: "会議"
    - name: start_from
      in: query
      required: false
      description: 検索開始日時（RFC3339形式）。指定しない場合は3年前から検索。
      schema:
        type: string
        format: date-time
        example: "2024-01-01T00:00:00Z"
    - name: start_to
      in: query
      required: false
      description: 検索終了日時（RFC3339形式）。指定しない場合は3年後まで検索。
      schema:
        type: string
        format: date-time
        example: "2024-12-31T23:59:59Z"
    - name: limit
      in: query
      required: false
      description: 取得件数（デフォルト20、最大100）
      schema:
        type: integer
        default: 20
        maximum: 100
        example: 20
    - name: offset
      in: query
      required: false
      description: オフセット（ページネーション用）
      schema:
        type: integer
        default: 0
        example: 0
  responses:
    "200":
      description: Events retrieved successfully
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/EventSearchResponse"
    "400":
      description: Invalid request
    "401":
      description: Unauthorized
    "500":
      description: Internal server error

components:
  schemas:
    EventSearchResponse:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/EventSearchResponseItem"
        total:
          type: integer
          description: 検索結果の総件数
          example: 100
        limit:
          type: integer
          description: 1ページあたりの表示件数
          example: 20
    EventSearchResponseItem:
      type: object
      properties:
        calendarId:
          type: string
          format: uuid
        calendarName:
          type: string
        calendarColor:
          type: string
        eventId:
          type: string
          format: uuid
        eventTitle:
          type: string
        location:
          type: string
        memo:
          type: string
        startAt:
          type: string
          format: date-time
        endAt:
          type: string
          format: date-time
        isAllDay:
          type: boolean
